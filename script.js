const weatherWrapper = document.getElementById('weather-wrapper');

const API = "https://api.openweathermap.org/data/2.5/weather?q=Malmo,Sweden&units=metric&appid=fd582670436692008725c351eb4985b0";

const fetchWeather = () => {
    fetch(API)
        .then((response) => response.json())
        .then((json) => {
            console.log("Weather API response:", json)
            const weather = json.weather[0]

            switch(weather.main) {
                case 'Clouds':
                    weatherWrapper.innerHTML = `
                        <svg class="icon-weather" viewBox="0 -56.89 259.31 259.31" xmlns="http://www.w3.org/2000/svg" fill="#faebd7" stroke="#faebd7"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <defs> <style>.cls-1{fill:#ffffff;}</style> </defs> <g id="Layer_2" data-name="Layer 2"> <g id="Layer_1-2" data-name="Layer 1"> <path d="M45.15,79.62A55.75,55.75,0,0,0,44.08,74c-4.16-13.68-.83-26.31,6.69-37.61A89.27,89.27,0,0,1,75.49,11.55c8.07-5.4,17.05-8,26.28-10,18.31-3.94,35.25-.28,50.77,10,8.07,5.34,13.84,12.84,18.35,21.24,3.78,7.05,6.8,14.46,7.84,22.25,1.81,1.63,3.46.74,5.06.34a34.4,34.4,0,0,1,26.48,3.7,30.46,30.46,0,0,1,12.79,13.46c1.71,3.59,3.15,7.3,4.91,11.42a45.47,45.47,0,0,0,6.6-.06c4.84-.7,8.85.92,12.94,3.36,11.12,6.61,13.05,16.49,11.16,26.5-2,10.67-7.72,18.76-17.9,23.69-12.22,5.92-25.18,7.69-38.4,7.61-12.88-.07-25.75-1-38.62-1.65-14.27-.78-28.53-2.13-42.81-2.48A195.75,195.75,0,0,0,91.8,142.4c-18.8,2.38-37.59,3.91-56.52,2.74a84.89,84.89,0,0,1-14.35-2.51c-8.43-2-13.66-7.76-17.36-15.36C.59,121.14-.16,114.78,0,108.1A20.59,20.59,0,0,1,5.11,94.72C14.69,83.8,26.29,77.42,41.4,79.61A35.79,35.79,0,0,0,45.15,79.62Zm172,13.58c-.48-2.65-.88-5.15-1.39-7.62-1.92-9.29-6.65-16.17-15.84-19.83-5.41-2.15-10.43-2.62-15.66.12a53.59,53.59,0,0,1-7,3.2c-4.37,1.53-7.15,0-8.45-4.55a11.51,11.51,0,0,1-.57-3.37c.16-7.43-2.78-14.08-5.8-20.49C156.15,27.43,146.26,18,132.21,13c-12.08-4.29-24.09-4.14-36.27-.67a51.11,51.11,0,0,0-14.71,6.84C73.26,24.51,67,31.55,61,38.85A36,36,0,0,0,53.29,55c-1.53,7.89-1.79,15.91,3.14,23.19a40.19,40.19,0,0,1,3.91,8.58,4.47,4.47,0,0,1-4.92,6,17,17,0,0,1-5.63-2C38.06,84.12,24.52,89,17,97.25c-2.09,2.27-4.33,5-5,7.85-1.91,8.17-.1,15.86,4.95,22.69,3.3,4.46,8.11,6.3,13.24,7.23a99.6,99.6,0,0,0,29.1,1c13.09-1.49,26.17-3.39,39.3-4.17a418.3,418.3,0,0,1,69.52,1.78,279,279,0,0,0,46.34,1.2c7.33-.43,14-2.74,20.49-5.9a20.7,20.7,0,0,0,7.64-6.76c3.09-4.29,4.55-9.22,5.74-14.25a8.75,8.75,0,0,0-2.6-8.65c-1-1-2-2.06-3.09-3-3.7-3.07-7.55-4.91-12.61-3C226.23,94.77,222.16,94.92,217.13,93.2Z"></path> </g> </g> </g></svg>
                        <h3>The sky is grey in ${json.name}. <br/>I don't love it.</h3>
                    `   
                break;
            
                case 'Rain':
                    weatherWrapper.innerHTML = `
                        <svg class="icon-weather" viewBox="-27.3 0 124.2 124.2" xmlns="http://www.w3.org/2000/svg" fill="#faebd7" stroke="#faebd7"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <defs> <style>.cls-1{fill:#ffffff;}</style> </defs> <g id="Layer_2" data-name="Layer 2"> <g id="Layer_1-2" data-name="Layer 1"> <path d="M12.08,4.43c4.41-4.67,6.75-5.52,11.66-3.16A62.92,62.92,0,0,1,34,7.51c7.62,5.65,14,12.66,20,19.9a40.7,40.7,0,0,1,5.9,10.37c6.65,16,11.28,32.36,9.25,50-1.26,10.87-4.63,20.79-13.43,27.79-12.64,10.06-26.31,11.1-40.16,4.37-6.8-3.29-10.65-9.54-12.73-16.55A63.17,63.17,0,0,1,4.18,62.15a76,76,0,0,1,3.35-7.88c6.24-12.07,7.4-25.1,7.08-38.32C14.53,12.39,13.1,8.86,12.08,4.43ZM26.46,17.72c-.7,5.31-1.25,9.21-1.71,13.12-1.16,9.73-3.24,19.34-8.22,27.78C10.7,68.52,9.44,79,10.35,90c.89,10.75,6.86,18,16.72,21.87,7.59,3,19.55-.1,24.3-6.42,4-5.3,6.78-11.23,7.3-18a91.1,91.1,0,0,0-2.19-26.36C52.58,43,41.93,29.89,26.46,17.72Z"></path>  </g> </g> </g></svg>
                        <h3>It's raining in ${json.name}. I like the rain sometimes. </h3>
                    `
                break;
            
                default:
                    weatherWrapper.innerHTML = `
                        <svg class="icon-weather" viewBox="0 -13.11 222.83 222.83" xmlns="http://www.w3.org/2000/svg" fill="#faebd7" stroke="#faebd7"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <defs> <style>.cls-1{fill:#ffffff;}</style> </defs> <g id="Layer_2" data-name="Layer 2"> <g id="Layer_1-2" data-name="Layer 1"> <path d="M62.54,56c1.09-3.46-.15-6.44-.64-9.48-1.8-11.32-3.17-22.7-1.35-34.14a22.28,22.28,0,0,1,2.82-8c2.88-4.76,7.26-5.81,11.69-2.58a36.74,36.74,0,0,1,8.43,8.45c3.77,5.38,6.89,11.2,10.24,16.86,1.59,2.67,3.09,5.4,4.49,7.86,2.78.11,3.12-1.86,4-3.12a39.16,39.16,0,0,0,2.68-4.38,50.56,50.56,0,0,1,21.44-21.6c1.27-.67,2.53-1.37,3.84-1.92a7,7,0,0,1,8.57,1.83,18.43,18.43,0,0,1,4.74,9c1.66,8.13,3.48,16.22,3.36,24.6-.06,3.69.22,7.38.37,11.63,2-.13,3.6-.1,5.17-.37,7.6-1.36,15.14-3.3,22.8-4.06s15.43-.45,23.16-.44a8.81,8.81,0,0,1,4,1.34c3.79,2.12,5,5.25,3.76,9.4-1.58,5.33-4.74,9.75-8.15,14a117.77,117.77,0,0,1-17.15,18,38.79,38.79,0,0,0-3.07,3.24c5.23,2.27,9.94,4.19,14.55,6.33,4.16,1.93,8.23,4,12.28,6.17,7.61,4,12.79,10.48,17.32,17.52,1.61,2.5,1.12,4.7-1.52,6.66-2.49,1.85-5.1,3.9-8,4.83a67.66,67.66,0,0,1-18.47,3.53c-10.55.33-21.09,1.13-31.61,1.74-1.5,2.08-.13,3.93.42,5.67,4.24,13.67,4.43,27.64,3.16,41.68-.72,8.05-8.11,12.4-15.58,9.28a35.58,35.58,0,0,1-13-9.64,234.68,234.68,0,0,1-18.56-24.71c-.94-1.4-2-2.72-3.11-4.21-2.71.85-3.34,3.2-4.38,5.06-6.27,11.18-15.1,20.09-24.72,28.33A14,14,0,0,1,74.65,194c-4-.66-7-2.79-8.18-6.66a22.81,22.81,0,0,1-1.18-8.43c.94-10.24,1.36-20.58,4.44-30.52a29.75,29.75,0,0,0,.6-4.69c-3.23-.61-5.86.46-8.43,1.37-15.32,5.46-31.13,7.38-47.3,6.74a42.54,42.54,0,0,1-6-.47C4.51,150.58,2,147.68,2,143.61a14.56,14.56,0,0,1,2.49-9,61,61,0,0,1,6-7.29c10.29-9.94,20.67-19.79,34.16-27a39.17,39.17,0,0,0-4.36-2.95C29.05,92.05,19.46,84.27,9.74,76.75,4.18,72.44.07,67,0,59.39a6.21,6.21,0,0,1,3.57-6.22,28,28,0,0,1,15.62-3.71C32.64,50.42,46,51.9,59,55.55A27.48,27.48,0,0,0,62.54,56Zm90.58,43.15c.68-8.7-2.73-15.64-8.52-21.74-2-2.06-3.55-4.51-5.6-6.47-9.49-9.08-20.51-14.82-34-12.87C88.55,60.48,77.09,70.05,69.49,84.64c-3.54,6.8-3.28,13.85-1.34,20.81A38.62,38.62,0,0,0,79.1,123.58a43.22,43.22,0,0,0,22.56,11.29c16.31,2.91,30.5-1.09,43.14-11.36a16.68,16.68,0,0,0,6.42-10.79Q152.18,106,153.12,99.18Zm-83,30C61.94,123.53,59.7,114.57,55,107.14c-9,3.89-16.34,9.23-23.33,15.14-5.68,4.81-11.18,9.8-15.34,16A15.1,15.1,0,0,0,15.09,142C34.26,143.84,57.18,138.67,70.09,129.21ZM64.4,68.8C63.35,68,62.76,67.29,62,67.07a178,178,0,0,0-43.83-7.22,6.78,6.78,0,0,0-4.64,1.39c-1.7,1.71-.39,3.86.77,5.42a26.17,26.17,0,0,0,4.73,4.85A122.25,122.25,0,0,0,30.11,79.6c6.07,3.74,12.33,7.16,18.59,10.56,1.37.75,3.1.84,5.14,1.35C55,82.5,60.93,76.27,64.4,68.8Zm94.94,56.35c11.08,3.72,36.11,3,47.41-1.2-.41-2.39-2-4-3.75-5.48-7.48-6.47-16.49-10.25-25.4-14.17-3.32-1.46-6.66-3.31-10.59-2.6-.82,4.1-1.25,8.12-2.49,11.87C163.2,117.56,161.11,121.28,159.34,125.15Zm-5.17,58.94c2.79-15-1.81-37.16-9.13-45.27-3.35,1.14-6.95,2.1-10.33,3.58s-7.35,1.12-10.2,4.41C132.69,158.7,140,171,150,181.33,150.93,182.29,152.27,182.86,154.17,184.09Zm9.26-98.56c4.63-1.16,7.65-4.68,10.88-7.85s6.45-6.43,9.47-9.83,6.56-6.14,7.66-10.55c-2.63-2.36-5.1-2.08-7.72-1.59-7.85,1.48-15.78,2.63-23.58,4.31-4.38.94-8.83,2.12-12.72,5.2Zm-29.7-30.1c3-11.2,1.58-28.62-3-39-4.19.73-7,3.58-9.51,6.62-5.95,7.29-9.76,15.8-13.89,24.54,5,1,9.45,1.64,13.75,2.92S129.49,53.76,133.73,55.43Zm-26.09,90.88c-8.49-1.43-15.58-4.39-23.7-5.46-1.55,7.69-3.06,14.91-4.45,22.16a61.86,61.86,0,0,0-1.18,8.44c-.18,3.26.7,6.15,4,7.66C93.36,170.45,102.15,160.32,107.64,146.31ZM77.69,57c2.8-1.39,5-2.53,7.31-3.62s4.46-2.09,6.63-3.11c-2.68-7.53-13.1-27.78-17-33-.54-.72-1.65-1-2.71-1.63C70,28.77,72.35,46.09,77.69,57Z"></path> </g> </g> </g></svg>
                        <h3>The sky is crispy and clear in ${json.name}. I love sunny days.</h3>
                    `
                break;
            };
        });
};

fetchWeather()